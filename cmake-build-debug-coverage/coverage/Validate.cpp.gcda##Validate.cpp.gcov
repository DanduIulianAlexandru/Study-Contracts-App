        -:    0:Source:/mnt/c/Users/dandu/CLionProjects/StudyContractsApp/validate/Validate.cpp
        -:    0:Graph:/mnt/c/Users/dandu/CLionProjects/StudyContractsApp/cmake-build-debug-coverage/CMakeFiles/StudyContractsApp.dir/validate/Validate.cpp.gcno
        -:    0:Data:/mnt/c/Users/dandu/CLionProjects/StudyContractsApp/cmake-build-debug-coverage/CMakeFiles/StudyContractsApp.dir/validate/Validate.cpp.gcda
        -:    0:Runs:1
        -:    1:#include "Validate.h"
        -:    2:#include <cassert>
        -:    3:#include <sstream>
        -:    4:
function _ZlsRSoRK17ValidateException called 2 returned 100% blocks executed 100%
        2:    5:ostream& operator<<(ostream& out, const ValidateException& ex) {
       10:    6:    for (const auto& msg : ex.msgs) {
        2:    6-block  0
call    0 returned 2
call    1 returned 2
       10:    6-block  1
call    2 returned 10
branch  3 taken 8 (fallthrough)
branch  4 taken 2
        8:    6-block  2
call    5 returned 8
        8:    6-block  3
call    6 returned 8
        8:    7:        const auto* p = &msg;
        8:    8:        if(p != nullptr)
branch  0 taken 8 (fallthrough)
branch  1 taken 0
        8:    9:            out << msg << " ";
        8:    9-block  0
call    0 returned 8
branch  1 taken 8 (fallthrough)
branch  2 taken 0 (throw)
        8:    9-block  1
call    3 returned 8
branch  4 taken 8 (fallthrough)
branch  5 taken 0 (throw)
        -:   10:    }
        2:   11:    return out;
        2:   11-block  0
        2:   11-block  1
        -:   12:}
        -:   13:
function _ZN8Validate8validateERK10Discipline called 18 returned 89% blocks executed 94%
       18:   14:void Validate::validate(const Discipline& d) {
       36:   15:    vector<string> msgs;
       18:   15-block  0
call    0 returned 18
       16:   15-block  1
call    1 returned 16
        2:   15-block  2
call    2 returned 2
       18:   16:    if (d.get_type().empty())
call    0 returned 18
branch  1 taken 18 (fallthrough)
branch  2 taken 0 (throw)
       18:   16-block  0
call    3 returned 18
call    4 returned 18
branch  5 taken 2 (fallthrough)
branch  6 taken 16
        2:   17:        msgs.emplace_back("Invalid type!");
        2:   17-block  0
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
       18:   18:    if (d.get_teacher().empty())
       18:   18-block  0
call    0 returned 18
branch  1 taken 18 (fallthrough)
branch  2 taken 0 (throw)
       18:   18-block  1
call    3 returned 18
call    4 returned 18
branch  5 taken 2 (fallthrough)
branch  6 taken 16
        2:   19:        msgs.emplace_back("Invalid teacher");
        2:   19-block  0
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
       18:   20:    if (d.get_hours() <= 0)
       18:   20-block  0
call    0 returned 18
branch  1 taken 2 (fallthrough)
branch  2 taken 16
        2:   21:        msgs.emplace_back("Invalid hours!");
        2:   21-block  0
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
       18:   22:    if (d.get_name().empty())
       18:   22-block  0
call    0 returned 18
branch  1 taken 18 (fallthrough)
branch  2 taken 0 (throw)
       18:   22-block  1
call    3 returned 18
call    4 returned 18
branch  5 taken 2 (fallthrough)
branch  6 taken 16
        2:   23:        msgs.emplace_back("Invalid name!");
        2:   23-block  0
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
       18:   24:    if (!msgs.empty())
       18:   24-block  0
call    0 returned 18
branch  1 taken 2 (fallthrough)
branch  2 taken 16
        2:   25:        throw ValidateException(msgs);
        2:   25-block  0
call    0 returned 2
call    1 returned 2
branch  2 taken 2 (fallthrough)
branch  3 taken 0 (throw)
        2:   25-block  1
call    4 returned 2
    $$$$$:   25-block  2
call    5 never executed
       16:   26:}
        -:   27:
function _Z14validate_testsv called 1 returned 100% blocks executed 57%
        1:   28:void validate_tests() {
        -:   29:    Validate v;
        3:   30:    Discipline d{ "", -1, "", "" };
        1:   30-block  0
call    0 returned 1
call    1 returned 1
branch  2 taken 1 (fallthrough)
branch  3 taken 0 (throw)
        1:   30-block  1
call    4 returned 1
call    5 returned 1
branch  6 taken 1 (fallthrough)
branch  7 taken 0 (throw)
        1:   30-block  2
call    8 returned 1
call    9 returned 1
branch 10 taken 1 (fallthrough)
branch 11 taken 0 (throw)
        1:   30-block  3
call   12 returned 1
call   13 returned 1
call   14 returned 1
call   15 returned 1
call   16 returned 1
call   17 returned 1
        1:   30-block  4
call   18 returned 1
    $$$$$:   30-block  5
    $$$$$:   30-block  6
    $$$$$:   30-block  7
    $$$$$:   30-block  8
    $$$$$:   30-block  9
    $$$$$:   30-block 10
call   19 never executed
        -:   31:    try {
        1:   32:        v.validate(d);
call    0 returned 1
branch  1 taken 0 (fallthrough)
branch  2 taken 1 (throw)
        -:   33:    }
        2:   34:    catch (const ValidateException& ex) {
        1:   34-block  0
call    0 returned 1
call    1 returned 1
    $$$$$:   34-block  1
call    2 never executed
        2:   35:        std::stringstream sout;
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
call    3 returned 1
    $$$$$:   35-block  0
call    4 never executed
        1:   36:        sout << ex;
        1:   36-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        2:   37:        const auto mesaj = sout.str();
        1:   37-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
call    3 returned 1
        1:   38:        assert(mesaj.find("type") >= 0);
        1:   38-block  0
call    0 returned 1
        1:   39:        assert(mesaj.find("Invalid") >= 0);
call    0 returned 1
        1:   40:        assert(mesaj.find("teacher") >= 0);
call    0 returned 1
        1:   41:        assert(mesaj.find("hours") >= 0);
call    0 returned 1
        1:   42:        assert(mesaj.find("name") >= 0);
call    0 returned 1
        -:   43:
        -:   44:    }
        1:   45:}
